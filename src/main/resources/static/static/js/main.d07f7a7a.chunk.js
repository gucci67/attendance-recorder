(this["webpackJsonpattendance-recorder-client"]=this["webpackJsonpattendance-recorder-client"]||[]).push([[0],{10:function(e,t,n){},21:function(e,t,n){e.exports=n(47)},26:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),o=n.n(c),l=(n(26),n(27),n(49)),u=(n(10),n(48)),i=n(7),s=n(20),m=n.n(s),d=Object(a.createContext)(),f=function(e){var t=Object(a.useState)(new Date),n=Object(i.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)([]),u=Object(i.a)(l,2),s=u[0],f=u[1];Object(a.useEffect)((function(){!function(){var e=h(c);m.a.get("http://localhost:8080/api/attendances",{params:{month:e}}).then((function(e){f(e.data)})).catch((function(){console.log("\u901a\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}))}()}),[c]);var h=function(){var e=c.getFullYear()+"-",t=c.getMonth()+1;return t<10&&(e+="0"),e+=t};return r.a.createElement(d.Provider,{value:{month:c,attendance:s,changeNextMonth:function(){var e=c.setMonth(c.getMonth()+1);o(new Date(e))},changePrevMonth:function(){var e=c.setMonth(c.getMonth()-1);o(new Date(e))},toMonthString:h}},e.children)};var h=function(e){return r.a.createElement("tr",null,r.a.createElement("th",{bgcolor:"#e6e6e6"},"#"),e.allUserNames&&e.allUserNames.map((function(t,n){return r.a.createElement("th",{bgcolor:g(e.todayAttendance,t)?"#00d18b":"#e6e6e6",key:n},t)})))},v=function(e){var t=e.index+1;return r.a.createElement("tr",{key:e.index},r.a.createElement("th",null,t),e.allUserNames&&e.allUserNames.map((function(t,n){var a=e.dayAttendance.users.find((function(e){return e.userName===t}));if(a){var c=(a.comeTime||"").substring(0,5)||"",o=(a.leaveTime||"").substring(0,5)||"";return r.a.createElement("td",{bgcolor:b(o),key:n},"".concat(c," ~ ").concat(o))}return r.a.createElement("td",null,"~")})))},E=function(e){var t=(new Date).getDay();return t<10&&(t="0"+t),e.find((function(e){return e.date.includes(t,7)}))},g=function(e,t){var n=e.users.find((function(e){return e.userName===t}));return!!n&&null==n.leaveTime},b=function(e){if(e)switch(e.substring(0,2)){case"22":return"#faa";case"21":return"#fca";case"20":return"#ffa"}return""},N=function(){var e=Object(a.useContext)(d).attendance,t=e.flatMap((function(e){return e.users})).map((function(e){return e.userName})).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]).sort();if(0===t.length)return r.a.createElement("div",{className:"h2 mt-2"},"No Data");var n=E(e);return r.a.createElement(u.a,{bordered:!0,striped:!0,className:"mt-2 sticky_table"},r.a.createElement("thead",null,r.a.createElement(h,{allUserNames:t,todayAttendance:n})),r.a.createElement("tbody",null,e&&e.map((function(e,n){return r.a.createElement(v,{index:n,allUserNames:t,dayAttendance:e})}))))},p=n(50);var w=function(){var e=Object(a.useContext)(d),t=e.month,n=e.changePrevMonth,c=e.changeNextMonth,o=e.toMonthString;return r.a.createElement("div",null,r.a.createElement(p.a,{className:"mx-2",onClick:n},"PREV"),r.a.createElement("span",{className:"h3"},o(t)),r.a.createElement(p.a,{className:"mx-2",onClick:c},"NEXT"))};var M=function(){document.title="Attendance Recorder"},x=function(){return M(),r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{fluid:!0},r.a.createElement("h2",{className:"mt-4"},"Attendance Recorder"),r.a.createElement(f,null,r.a.createElement(w,null),r.a.createElement(N,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.d07f7a7a.chunk.js.map